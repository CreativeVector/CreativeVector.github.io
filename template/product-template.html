<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{{TITLE}} | CreativeVector</title>
  <meta name="description" content="{{DESCRIPTION}}">
  <meta name="robots" content="index, follow">
  <meta property="og:title" content="{{TITLE}} | CreativeVector" />
  <meta property="og:description" content="{{DESCRIPTION}}" />
  <meta property="og:image" content="{{IMAGE_URL}}" />
  <meta property="og:type" content="product" />
  <meta property="og:url" content="https://creativevector.github.io/products/{{FILENAME}}.html" />

  <script type="application/ld+json">
  {
    "@context": "https://schema.org/",
    "@type": "Product",
    "name": "{{TITLE}}",
    "image": "{{IMAGE_URL}}",
    "description": "{{DESCRIPTION}}",
    "sku": "{{FILENAME}}",
    "offers": {
      "@type": "Offer",
      "priceCurrency": "USD",
      "price": "{{PRICE}}",
      "availability": "https://schema.org/InStock"
    }
  }
  </script>

  <link rel="stylesheet" href="../css/style.css" />
</head>
<body>

  <header class="main-header">
    <div class="header-container">
      <div class="logo"><a href="/"><img src="../img/cstore.png" alt="CreativeVector" style="height:40px;"></a></div>
      <nav class="main-nav">
        <ul>
          <li><a href="/">Store</a></li>
          <li><a href="/license.html">License</a></li>
          <li><a href="https://alextiancreative.github.io/" target="_blank">About</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="layout" style="padding: 40px 20px;">
    <div class="content" style="width:100%;">
      <div class="image-wrapper" style="max-width: 600px; margin:auto;">
        <img src="{{IMAGE_URL}}" alt="{{TITLE}}" style="width: 100%; border-radius:10px;" />
      </div>

      <div style="margin-top:30px; text-align:center;">
        <h1 class="preview-title">{{TITLE}}</h1>
        <p class="preview-description">{{DESCRIPTION}}</p>
        <p class="preview-filename"><strong>ID #{{FILENAME}}</strong></p>
      </div>

      <div class="preview-price-section">
        <div class="textDesc">
          <a href="https://gist.githubusercontent.com/AlextianCreative/.../personal.txt" target="_blank" class="btn license-button">Personal License</a>
          <h1>$ {{PRICE}}</h1>
        </div>
        <div class="textDesc">
          <a href="https://gist.githubusercontent.com/AlextianCreative/.../commercial.txt" target="_blank" class="btn license-button">Commercial License</a>
          <h1>$ {{PRICE_COMMERCIAL}}</h1>
        </div>
        <div class="textDesc">
          <a href="https://gist.githubusercontent.com/AlextianCreative/.../extended.txt" target="_blank" class="btn license-button">Extended License</a>
          <h1>$ {{PRICE_EXTENDED}}</h1>
        </div>
      </div>

      <div style="text-align:center; margin-top:20px;">
        <button class="btn" onclick="addToCart()">+ Add to Cart</button>
      </div>
    </div>
  </main>

  <script>
    function addToCart() {
      const product = {
        title: "{{TITLE}}",
        filename: "{{FILENAME}}",
        price: parseFloat("{{PRICE}}"),
        price_commercial: parseFloat("{{PRICE_COMMERCIAL}}"),
        price_extended: parseFloat("{{PRICE_EXTENDED}}"),
        preview_url: "{{IMAGE_URL}}",
        license: "personal" // default
      };
      const cart = JSON.parse(localStorage.getItem('cart')) || [];
      const exists = cart.find(p => p.filename === product.filename && p.license === product.license);
      if (exists) {
        alert("Product already in cart.");
        return;
      }
      cart.push(product);
      localStorage.setItem('cart', JSON.stringify(cart));
      alert("Added to cart.");
    }
  </script>

  <footer class="main-footer">
    <div class="footer-bottom">
      &copy; <span id="currentYear"></span> CreativeVector. All rights reserved.
    </div>
  </footer>

  <script>
    document.getElementById("currentYear").textContent = new Date().getFullYear();
  </script>

</body>
</html>
